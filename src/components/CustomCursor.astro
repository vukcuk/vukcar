<style>
 /* Hide the native cursor */
 body {
   cursor: none;
   margin: 0;
   height: 100vh;
   background: #f0f0f0;
 }

 /* Custom cursor styles */
 #custom-cursor {
   position: fixed;
   top: 0;
   left: -64px;
   width: 128px;
   height: 128px;
   background: url('/cursor.png') no-repeat center center;
   background-size: contain;
   pointer-events: none;
   transform-origin: top center;
   z-index: 2147483647;
   /* No CSS transition here - movement smoothed by JS */
 }
</style>

<div id="custom-cursor"></div>

<script>
 const cursor = document.getElementById('custom-cursor');

 let lastX = window.innerWidth / 2;
 let lastY = window.innerHeight / 2;
 let targetX = lastX;
 let targetY = lastY;
 let rotation = 0;
 const movementThreshold = 5;
 const lerpFactor = 0.3;

 // Initialize cursor position to center (optional)
 cursor.style.transform = `translate(${lastX}px, ${lastY}px) rotate(0deg)`;

 document.addEventListener('mousemove', (e) => {
   targetX = e.clientX;
   targetY = e.clientY;

   const deltaX = targetX - lastX;
   const deltaY = targetY - lastY;
   const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

   if (distance >= movementThreshold) {
     const angleRad = Math.atan2(deltaY, deltaX);
     rotation = angleRad * (180 / Math.PI) + 90;
   }
 });

 function animate() {
   // Smoothly interpolate position
   lastX += (targetX - lastX) * lerpFactor;
   lastY += (targetY - lastY) * lerpFactor;

   // Apply transform with current rotation
   cursor.style.transform = `translate(${lastX}px, ${lastY}px) rotate(${rotation}deg)`;

   requestAnimationFrame(animate);
 }

 animate();
</script>

</body>
</html>

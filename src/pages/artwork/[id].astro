---
import BaseLayout from "@/layouts/BaseLayout.astro";
import ImageGallery from "@/components/ImageGallery.astro";
import { getCollection, render } from "astro:content";

export async function getStaticPaths() {
const posts = await getCollection("artwork");
return posts.map((post) => ({
params: { id: post.id },
props: { post },
}));
}

const { post } = Astro.props;
const { Content } = await render(post);

const postDir = `artwork/${post.id}`;
---
<BaseLayout title={post.data.title}>
  <section class="w-full">
    <div class="flex flex-col w-full p-5 gap-8">

      <!-- Title & Subtitle -->
      <div>
        <h3 class="uppercase text-left text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight">
          {post.data.title}
        </h3>
        <p class="text-gray-500 text-left text-sm">{post.data.subtitle}</p>
      </div>

      <!-- Two-column layout starts here -->
      <div class="flex flex-col lg:flex-row gap-8 w-full">
        <!-- Content column -->
        <article class="prose max-w-full w-full lg:w-1/2">
          <Content />
        </article>

        <!-- Image Gallery column -->
        <div class="w-full lg:w-1/2">
          <ImageGallery imageFolder={postDir} />
        </div>
      </div>

    </div>
  </section>
</BaseLayout>

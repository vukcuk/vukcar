---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import ArtworkImageStripe from "@/components/ArtworkImageStripe.astro";

const allArtworkPosts = (await getCollection("artwork")).sort(
(a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate)
);
---
<BaseLayout title="Home">
  <section class="w-full">
    <div class="flex flex-col w-full">
      {allArtworkPosts.map(post => {
      const link = `artwork/${post.data.slug}`;
      return (
      <a href={link}>
        <div class="w-full m-0 p-5">
          <h3 class="uppercase text-left text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight">
            {post.data.title}</h3>
        </div>
      </a>
      <ArtworkImageStripe folderName={post.data.slug} link={link}/>
      )})}
    </div>
  </section>
</BaseLayout>
